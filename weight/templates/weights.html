{% extends "base_generic.html" %}

{% block content %}
  <div id="container" data-url="{% url 'weights_data' %}">
      <p>Loading chart...</p>
  </div>

  <script src="https://code.jquery.com/jquery-3.3.1.min.js"></script>
  <script src="https://code.highcharts.com/stock/highstock.js"></script>
  <script src="https://code.highcharts.com/stock/modules/exporting.js"></script>
  <script src="https://code.highcharts.com/stock/modules/export-data.js"></script>
  <script src="https://code.highcharts.com/stock/indicators/indicators.js"></script>
  <script src="https://code.highcharts.com/stock/indicators/ema.js"></script>

  <script>
    $.ajax({
      url: $("#container").attr("data-url"),
      dataType: "json",
      success: function (data) {
        Highcharts.stockChart("container", data);
      }
    });
  </script>
{% endblock %}
